(this["webpackJsonpnew-draft-2"]=this["webpackJsonpnew-draft-2"]||[]).push([[0],{34:function(e,t,a){},51:function(e,t,a){},62:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),n=a(21),r=a.n(n),i=(a(51),a(10)),l=(a(34),a(14)),o=a.n(l),d=a(20),u=a(15),j=a(27);a(54),a(55),a(56);j.a.apps.length?console.log("firebase config error"):j.a.initializeApp({apiKey:"AIzaSyDCFSuf28xexg5owdTuO8Ws1pxVUg9gLIs",authDomain:"seprojectdb.firebaseapp.com",projectId:"seprojectdb",storageBucket:"seprojectdb.appspot.com",messagingSenderId:"667112229281",appId:"1:667112229281:web:6329c635ffd244d430a3e0",measurementId:"G-7NETFE1EFW"});var b=j.a.auth(),m=j.a.database(),p=j.a.firestore(),h=a(3),O=c.a.createContext();function f(){return Object(s.useContext)(O)}function x(e){var t=e.children;Object(s.useEffect)((function(){return b.onAuthStateChanged((function(e){r(e)}))}),[]);var a=Object(s.useState)("null"),c=Object(i.a)(a,2),n=c[0],r=c[1],l=Object(s.useState)(!1),o=Object(i.a)(l,2),d=o[0],u=o[1],j={currentUser:n,signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},login:function(e,t){try{return u(!0),b.signInWithEmailAndPassword(e,t)}catch(a){u(!1),console.log("Login Auth Error")}},logout:function(){try{return u(!1),b.signOut()}catch(e){console.log("Logout Auth Error")}},getCurrentUID:function(){return d?n.uid:"No current user"},getCurrentEmail:function(){return d?n.email:"No current user"},getLoggedIn:function(){return!!d}};return Object(h.jsx)(O.Provider,{value:j,children:t})}var g=function(e,t,a){var c=f().signup,n=Object(s.useState)({email1:"",email2:"",password1:"",password2:"",EmployeeID:""}),r=Object(i.a)(n,2),l=r[0],j=r[1],b=Object(s.useState)({}),m=Object(i.a)(b,2),p=m[0],h=m[1],O=Object(s.useState)(!1),x=Object(i.a)(O,2),g=(x[0],x[1]);function v(){return(v=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(t(l)),g(!0),0!==Object.keys(p).length){e.next=13;break}return e.prev=3,e.next=6,c(l.email2,l.password2);case 6:console.log("user submitted"),j({email1:"",email2:"",password1:"",password2:"",EmployeeID:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR: Problem with Firebase User Signup");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return{handleChange:function(e){var t=e.target,a=t.name,s=t.value;j(Object(u.a)(Object(u.a)({},l),{},{[a]:s}))},handleSubmit:function(e){e.preventDefault(),function(){v.apply(this,arguments)}()},values:l,errors:p}};function v(e){var t={};return e.email1?/\S+@\S+\.\S+/.test(e.email1)||(t.email1="Email address is invalid"):t.email1="Email required",e.email2?/\S+@\S+\.\S+/.test(e.email2)||(t.email2="Email address is invalid"):t.email2="Email required",e.password1?e.password1.length<6&&(t.password1="Password needs to be 6 characters or more"):t.password1="Password is required",e.password2?e.password2!==e.password1&&(t.password2="Passwords do not match"):t.password2="Password is required",e.EmployeeID?e.EmployeeID.length<6&&(t.EmployeeID="Employe ID invalid"):t.EmployeeID="Employee ID required",e.email3?/\S+@\S+\.\S+/.test(e.email3)||(t.email3="Email address is invalid"):t.email3="Email required",e.password3?e.password3.length<6&&(t.password3="Password needs to be 6 characters or more"):t.password3="Password is required",t}var w=a(9),y=function(e){var t=e.submitForm,a=g(t,v),s=a.handleChange,c=a.values,n=a.handleSubmit,r=a.errors,i=Object(w.g)();return Object(h.jsxs)("form",{className:"form1",onSubmit:n,children:[Object(h.jsx)("h1",{children:"THE FLAT FINDER"}),Object(h.jsxs)("div",{className:"form-content-right-group",children:[Object(h.jsxs)("div",{className:"form-content-right",children:[Object(h.jsx)("label",{htmlFor:"email",className:"emailLabel",className:"word-list",children:"Email:"}),Object(h.jsx)("input",{id:"email1",type:"email",name:"email1",className:"emailInput",placeholder:"Enter Email",value:c.email1,onChange:s}),r.email1&&Object(h.jsx)("p",{children:r.email1})]}),Object(h.jsxs)("div",{className:"form-content-right",children:[Object(h.jsx)("label",{htmlFor:"email",className:"email-label2",className:"word-list",children:"Confirm Email:"}),Object(h.jsx)("input",{id:"email2",type:"email",name:"email2",className:"form-label2",placeholder:"Confirm your Email",value:c.email2,onChange:s}),r.email2&&Object(h.jsx)("p",{children:r.email2})]}),Object(h.jsxs)("div",{className:"form-content-right",children:[Object(h.jsx)("label",{htmlFor:"password1",className:"pass1-label",className:"word-list",children:"Password:"}),Object(h.jsx)("input",{id:"password1",type:"password",name:"password1",className:"form-label",placeholder:"Enter password",value:c.password1,onChange:s}),r.password1&&Object(h.jsx)("p",{children:r.password1})]}),Object(h.jsxs)("div",{className:"form-content-right",children:[Object(h.jsx)("label",{htmlFor:"password2",className:"password2-label",className:"word-list",children:"Confirm Password:"}),Object(h.jsx)("input",{id:"password2",type:"password",name:"password2",className:"form-label",placeholder:"Confirm your password",value:c.password2,onChange:s}),r.password2&&Object(h.jsx)("p",{children:r.password2})]}),Object(h.jsxs)("div",{className:"form-content-right",children:[Object(h.jsx)("label",{htmlFor:"EmployeeID",className:"EmployeeID-label",className:"word-list",children:"Employee number:"}),Object(h.jsx)("input",{id:"EmployeeID",type:"EmployeeID",name:"EmployeeID",className:"form-label",placeholder:"Enter Employee ID",value:c.EmployeeID,onChange:s}),r.EmployeeID&&Object(h.jsx)("p",{children:r.EmployeeID})]})]}),Object(h.jsx)("button",{className:"form-input-btn",type:"submit",children:"Sign Up"}),Object(h.jsx)("span",{className:"form-input-login",children:Object(h.jsx)("button",{className:"form-input-btn2",type:"button",onClick:function(){i.push("/Login")},children:"Already Registered? Login Here"})})]})},N=function(){return Object(h.jsx)("div",{className:"form-content-right",children:Object(h.jsx)("div",{className:"form-success",children:"We have received your registration!"})})},E=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"form-container",children:[Object(h.jsx)("div",{className:"form-content-left",children:Object(h.jsx)("img",{src:"https://cdn.dribbble.com/users/989466/screenshots/12002010/media/41c270f90ea9e4d1507c3c0fc4922dc3.png?compress=1&resize=400x300",className:"form-img",alt:"putpichere"})}),a?Object(h.jsx)(N,{}):Object(h.jsx)(y,{submitForm:function(){c(!0)}})]})})};a(62);var C=function(){var e=f().login,t=Object(w.g)();function a(){return(a=Object(d.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e(r.email,r.password);case 3:console.log("user logged in"),t.push("/Dashboard"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("ERROR: Problem with Firebase User Login");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}var c=Object(s.useState)({email:"",password:""}),n=Object(i.a)(c,2),r=n[0],l=n[1],j=function(e){e.preventDefault();var t=e.target,a=t.name,s=t.value;l(Object(u.a)(Object(u.a)({},r),{},{[a]:s}))};return Object(h.jsx)("form",{className:"form2",onSubmit:function(e){e.preventDefault(),function(){a.apply(this,arguments)}()},children:Object(h.jsxs)("div",{className:"form-container2",children:[Object(h.jsx)("div",{className:"form-content-left2",children:Object(h.jsx)("img",{src:"https://cdn.dribbble.com/users/989466/screenshots/12002010/media/41c270f90ea9e4d1507c3c0fc4922dc3.png?compress=1&resize=400x300",className:"form-img2",alt:"putpichere"})}),Object(h.jsx)("h1",{children:" THE FLAT FINDER "}),Object(h.jsxs)("div",{className:"form-content-right-group2",children:[Object(h.jsxs)("div",{className:"form-content-right2",children:[Object(h.jsx)("label",{htmlFor:"email",className:"emailLabel",className:"word-list",children:"Email:"}),Object(h.jsx)("input",{id:"email",type:"email",name:"email",className:"emailInput2",placeholder:"Enter your email",value:r.email,onChange:j})]}),Object(h.jsxs)("div",{className:"form-content-right2",children:[Object(h.jsx)("label",{htmlFor:"email",className:"emailLabel",className:"word-list",children:"Password:"}),Object(h.jsx)("input",{id:"Password",type:"Password",name:"password",className:"PassInput2",placeholder:"Enter your password",value:r.password,onChange:j})]})]}),Object(h.jsxs)("span",{className:"form-input-login2",children:[Object(h.jsx)("button",{className:"form-input-btn2",type:"submit",children:"Login Here"}),Object(h.jsx)("button",{className:"form-input-btn2",type:"button",onClick:function(){t.push("/Register")},children:"Need an account? Register here"})]})]})})},S=a(44),D=a(45),I=a(30),k=a(25),F=a(26),L=(a(63),a(64),{width:"100vw",height:"100vh"}),P=["places"];function A(){var e=Object(s.useState)({lat:51.5074,lng:.1278}),t=Object(i.a)(e,2),a=t[0],n=(t[1],Object(s.useState)([])),r=Object(i.a)(n,2),l=r[0],o=r[1],d=Object(s.useCallback)((function(e){return o((function(t){return[].concat(Object(D.a)(t),[{lat:e.lat,lng:e.lng,time:new Date}])}))}),[]),u=Object(s.useRef)(),j=Object(s.useCallback)((function(e){u.current=e})),b=Object(s.useCallback)((function(e){var t=e.lat,a=e.lng;u.current.panTo({lat:t,lng:a})})),m=Object(s.useState)(null),p=Object(i.a)(m,2),O=p[0],f=p[1],x=P,g=Object(s.useState)({title:"",price:"",desc:"",location:""}),v=Object(i.a)(g,2);v[0],v[1];return Object(h.jsx)("div",{children:Object(h.jsxs)(I.c,{googleMapsApiKey:"AIzaSyC44LmEfw4hs78DkfdGjAnAXbL6PO8-AUQ",libraries:x,children:[Object(h.jsx)(R,{panTo:b,placePin:d}),Object(h.jsx)(I.a,{mapContainerStyle:L,center:a,zoom:10,onLoad:j,children:Object(h.jsxs)(c.a.Fragment,{children:[l.map((function(e){return Object(h.jsx)(I.d,{position:{lat:e.lat,lng:e.lng},onClick:function(){f(e)}},e.time.toISOString())})),O?Object(h.jsx)(I.b,{position:O,onCloseClick:function(){f(null)},children:Object(h.jsx)(T,{placePin:d})}):null]})})]})})}function T(e){var t=e.placePin,a=Object(s.useState)(),c=Object(i.a)(a,2),n=(c[0],c[1],Object(k.a)()),r=(n.ready,n.value,n.suggestions);r.status,r.data,n.setValue,n.clearSuggestions,p.collection("Listings");function l(){return(l=Object(d.a)(o.a.mark((function e(){var a,s,c,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.collection("Listings"),e.next=3,a.get();case 3:return e.sent.forEach((function(e){e.data().location})),e.next=7,Object(k.b)("Queen Mary University");case 7:return s=e.sent,e.next=10,Object(k.c)(s[0]);case 10:c=e.sent,n=c.lat,r=c.lng,t({lat:n,lng:r});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){l.apply(this,arguments)}(),Object(h.jsx)("div",{children:Object(h.jsx)("p",{children:" hi "})})}function R(e){var t=e.panTo,a=e.placePin,c=Object(s.useState)(),n=Object(i.a)(c,2),r=(n[0],n[1]),l=Object(k.a)(),u=l.ready,j=l.value,b=l.suggestions,m=b.status,p=b.data,O=l.setValue,f=l.clearSuggestions;return Object(h.jsxs)(F.a,{onSelect:function(){var e=Object(d.a)(o.a.mark((function e(s){var c,n,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(s,!1),f(),e.prev=2,e.next=5,Object(k.b)({address:s});case 5:return c=e.sent,e.next=8,Object(k.c)(c[0]);case 8:n=e.sent,i=n.lat,l=n.lng,r({lat:i,lng:l}),t({lat:i,lng:l}),console.log({lat:i,lng:l}),a({lat:i,lng:l}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(h.jsx)(F.b,{value:j,onChange:function(e){O(e.target.value)},disabled:!u,placeholder:"Search here"}),Object(h.jsx)(F.e,{children:Object(h.jsx)(F.c,{children:"OK"===m&&p.map((function(e){e.id;var t=e.description;return Object(h.jsx)(F.d,{value:t},t)}))})})]})}var U=function(){var e=f(),t=(e.currentUser,e.logout),a=Object(w.g)();function c(){return n.apply(this,arguments)}function n(){return(n=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Logout Error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var r=Object(s.useState)({title:"",description:"",price:"",location:"",landlordID:"",status:"",isBooked:""}),l=Object(i.a)(r,2),j=l[0],b=l[1],p=function(e){e.preventDefault();var t=e.target,a=t.name,s=t.value;b(Object(u.a)(Object(u.a)({},j),{},{[a]:s}))},O=f().getCurrentUID,x=f().getCurrentEmail,g=Object(s.useState)("Employee"),v=Object(i.a)(g,2),y=v[0];return v[1],"Employee"===y?Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:" Dashboard "}),Object(h.jsx)("p",{children:" Your email address: "})," ",x(),Object(h.jsx)("p",{children:" Current UID: "})," ",O(),Object(h.jsx)("button",{onClick:c,children:" Log Out "}),Object(h.jsx)(A,{})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:" Dashboard "}),Object(h.jsx)("p",{children:" Your email address: "})," ",x(),Object(h.jsx)("p",{children:" Current UID: "})," ",O(),Object(h.jsx)("button",{onClick:c,children:" Log Out "}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();try{b({isBooked:"false"}),m.ref("Listings").push(j),b({title:"",description:"",price:"",location:"",landlordID:"",status:"",isBooked:""})}catch(t){console.log("property listing creation error")}},children:[Object(h.jsx)("label",{children:"Listing Name"}),Object(h.jsx)("input",{id:"",type:"",name:"title",className:"",placeholder:"Enter your listing title",value:j.title,onChange:p}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Description"}),Object(h.jsx)("textarea",{name:"description",cols:"40",rows:"3",maxLength:"150","data-tip":!0,"data-for":"descriptionToolTip",value:j.description,onChange:p}),Object(h.jsx)(S.a,{id:"descriptionToolTip",place:"bottom",effect:"solid",children:"There is a max character limit of 150 characters"}),Object(h.jsx)("button",{type:"submit",children:" Enter "})]}),Object(h.jsx)("label",{children:"Price"}),Object(h.jsx)("input",{id:"",type:"",name:"price",className:"",placeholder:"",value:j.price,onChange:p}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Location"}),Object(h.jsx)("input",{id:"",type:"",name:"location",className:"",placeholder:"Enter the location",value:j.location,onChange:p})]})]})]})},z=(a(69),function(){var e=Object(w.g)();return Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)("img",{className:"background11",src:"https://cdn.dribbble.com/users/1118956/screenshots/14259769/media/5fdc2f11c7f94616cca7ad158504853f.jpg?compress=1&resize=1000x750",alt:"logo"}),Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("h1",{children:"THE FLAT FINDER "}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{className:"active",href:"",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{onClick:function(){e.push("/About")},href:"",children:"About Us"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{onClick:function(){e.push("/Contact")},href:"",children:"Contact"})})]})]}),Object(h.jsx)("div",{className:"center",children:Object(h.jsxs)("div",{className:"buttons",children:[Object(h.jsx)("button",{onClick:function(){e.push("/Login")},children:"Login"}),Object(h.jsx)("button",{onClick:function(){e.push("/Register")},className:"btn2",children:"Register"}),Object(h.jsx)("img",{className:"logo",src:"data:image/jpeg;base64,https//rawcdngithackcom/hamima27/TheFlatFinder/09429bee548cf9f3070b89479f9565a31e3033db/src/logosizejpg=",alt:"logo"})]})})]})});a(70);function q(){return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("img",{className:"background11",src:"https://cdn.dribbble.com/users/1118956/screenshots/14259769/media/5fdc2f11c7f94616cca7ad158504853f.jpg?compress=1&resize=1000x750",alt:"logo"}),Object(h.jsx)("div",{class:"centered",children:"About us!"}),Object(h.jsx)("div",{class:"info",children:"The Flat Finder web application ensures that FDM\u2019s employees are able to find their perfect accommodation. This platform can be used by the FDM\u2019s employees to find suitable property."})]})}a(71);function H(){return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("img",{className:"background11",src:"https://cdn.dribbble.com/users/1118956/screenshots/14259769/media/5fdc2f11c7f94616cca7ad158504853f.jpg?compress=1&resize=1000x750",alt:"logo"}),Object(h.jsx)("div",{class:"centered",children:"Contact us!"}),Object(h.jsx)("div",{class:"info",children:"- - - -Our email for any further information: theflatfinder@outlook.com- - - - We would love to hear your thoughts about The Flat Finder!"})]})}var W=a(23),B=a(46);var M=function(e){var t=e.component,a=Object(B.a)(e,["component"]),s=f().currentUser;return Object(h.jsx)(w.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return s?Object(h.jsx)(t,Object(u.a)({},e)):Object(h.jsx)(w.a,{to:"/Login"})}}))};function K(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(x,{children:Object(h.jsx)(W.a,{children:Object(h.jsxs)(w.d,{children:[Object(h.jsx)(w.b,{path:"/",exact:!0,component:z}),Object(h.jsx)(w.b,{path:"/Register",exact:!0,component:E}),Object(h.jsx)(w.b,{path:"/Login",exact:!0,component:C}),Object(h.jsx)(M,{path:"/Dashboard",exact:!0,component:U}),Object(h.jsx)(w.b,{path:"/About",exact:!0,component:q}),Object(h.jsx)(w.b,{path:"/Contact",exact:!0,component:H})]})})})})}var V=document.getElementById("root");r.a.render(Object(h.jsx)(s.StrictMode,{children:Object(h.jsx)(K,{})}),V)}},[[72,1,2]]]);
//# sourceMappingURL=main.70325f69.chunk.js.map